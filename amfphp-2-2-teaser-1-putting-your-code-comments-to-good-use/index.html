<!doctype html><html class="" lang=""><head>
  <meta charset="UTF-8">
  <!-- generator meta tag -->
  <!-- leave this for stats and Silex version check -->
  <meta name="generator" content="Silex v2.2.12">
  <!-- End of generator meta tag -->
  <script type="text/javascript" src="https://www.silexlabs.org/js/jquery.js"></script>
  
  
  <script type="text/javascript" src="https://www.silexlabs.org/js/front-end.js"></script>
  <link rel="stylesheet" href="https://www.silexlabs.org/css/normalize.css">
  <link rel="stylesheet" href="https://www.silexlabs.org/css/front-end.css">

  
  <script type="text/javascript" class="silex-script"></script>
  
  <title>AmfPHP 2.2 Teaser #1 Putting your code comments to good use</title>
  


<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" class="silex-custom-font"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Site silexlabs.org en Jekyll+Silex+Stastic"><meta name="twitter:description" content="Site silexlabs.org en Jekyll+Silex+Stastic"><meta name="og:description" content="Site silexlabs.org en Jekyll+Silex+Stastic"><meta name="twitter:title" content="AmfPHP 2.2 Teaser #1 Putting your code comments to good use"><meta name="og:title" content="AmfPHP 2.2 Teaser #1 Putting your code comments to good use"><meta name="twitter:site" content="@silexlabs"><link href="https://www.silexlabs.org/css/favicon.png" rel="shortcut icon"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://silexlabs.org/assets/silexlabs-wwx.jpg"><meta name="og:image" content="https://silexlabs.org/assets/silexlabs-wwx.jpg"><script src="https://www.silexlabs.org/js/script.js" type="text/javascript"></script><link href="https://www.silexlabs.org/css/styles.css" rel="stylesheet" type="text/css"><style>body { opacity: 0; transition: .25s opacity ease; }</style></head>

<body class="body-initial all-style enable-mobile prevent-resizable prevent-selectable editable-style silex-runtime silex-published" data-silex-type="container-element" style="" data-current-page="page-post">
  




























<section data-silex-type="container-element" class="prevent-resizable container-element editable-style silex-id-1563543778332-2 section-element"><div data-silex-type="container-element" class="editable-style silex-id-1563543778136-1 container-element silex-element-content website-width" style=""></div></section><section data-silex-type="container-element" class="container-element editable-style silex-id-1478366444112-1 section-element prevent-resizable" style="">
      <div data-silex-type="container-element" class="editable-style silex-element-content silex-id-1478366444112-0 container-element website-width" style=""><a href="https://www.silexlabs.org/" data-silex-type="image-element" class="editable-style silex-id-1563543746145-0 image-element" style=""><img src="https://www.silexlabs.org/assets/silexlabs.org_.2015.png" class=""></a><div data-silex-type="text-element" class="editable-style silex-id-1564083497965-0 text-element silex-component style-nav" style=""><div class="silex-element-content normal">

  <ul>

  <li>
    
    <a class="" href="https://www.silexlabs.org/">Accueil</a>
  </li>

  <li>
    
    <a class="" href="https://www.silexlabs.org/events">Evènements</a>
  </li>

  <li>
    
    <a class="" href="https://www.silexlabs.org/silexlabs">A propos</a>
  </li>

</ul>


</div></div><div data-silex-type="html-element" class="editable-style silex-id-1564093276656-2 html-element" style=""><div class="silex-element-content"><!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N48MBGD" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --></div></div></div>
  </section><section data-silex-type="container-element" class="prevent-resizable container-element editable-style silex-id-1563544245802-4 section-element hide-on-mobile page-index paged-element page-page page-posts page-post page-404 paged-element-visible"><div data-silex-type="container-element" class="editable-style silex-id-1563544245599-3 container-element silex-element-content website-width bg-shadow-top" style=""></div></section><section data-silex-type="container-element" class="container-element editable-style silex-id-1474394621033-3 section-element prevent-resizable page-page-posts page-page-post page-page-404 page-page paged-element page-posts page-post page-404 page-tags paged-element-visible" style="">
      <div data-silex-type="container-element" class="editable-style silex-element-content silex-id-1474394621032-2 container-element website-width bg-shadow" style=""><div data-silex-type="text-element" class="editable-style silex-id-1563563640945-15 text-element silex-component style-post page-page-postaaa page-page-post page-post paged-element page-page paged-element-visible" style=""><div class="silex-element-content normal">

  <article>
  <h1>AmfPHP 2.2 Teaser #1 Putting your code comments to good use</h1><div class="post-date">10 October 2013</div>
  <p><p><em><a href="https://www.silexlabs.org/179725/the-blog/amfphp-2-2-teaser-1-putting-your-code-comments-to-good-use/attachment/screen-shot-2013-10-10-at-2-02-49-pm/"><br />
</a>This is the first of a series of articles discussing ongoing developments with AmfPHP. The idea is to give the community the chance to give feedback before a final release is made, and of course simply to let people know what is going on. </em></p>

<p>You know it’s good practice to comment your code. With the upcoming AmfPHP 2.2 the information in those comments shall be used to make AmfPHP more useful to you.</p>

<p>Here’s how it
works: A special “discovery” service is included with AmfPHP. It analyses the service classes and their comments. This information is passed to the back office.</p>

<p>In the service browser</p>

<p><a href="https://www.silexlabs.org/179725/the-blog/amfphp-2-2-teaser-1-putting-your-code-comments-to-good-use/attachment/screen-shot-2013-10-10-at-2-02-49-pm/"><img src="/assets/Screen-Shot-2013-10-10-at-2.02.49-PM-687x419.png" alt="" title="Service Browser showing service comments" /></a></p>

<p>Here is a screenschot showing the ongoing development. Notice that the PHP code comments now appear in the dialog.</p>

<p>First of all, <strong>the service comments and the method comments appear in the dialog. </strong></p>

<p>Then, an extra goodie is to offer a special formatting option in the comment so that <strong>fields can be be prefilled with something meaningful in the service browser.</strong></p>

<p>Here’s how it works. The interesting line from the comment is reproduced
below: 
@param mixed $param</p>

<p>Everything right of
“example: “ is now used to prefill the input for the parameter.  It works with numbers, strings, booleans, and also with JSON values so that you can input complex types easily. Note that the example here uses “_explicitType” ,which would allow the object to be converted to a typed object.</p>

<h2 id="in-the-client-generator">In the client generator</h2>

<p>Very simply, the class comments appear above the generated client class, and the method comments appear above the generated client method.</p>

<p>Below is the PHP code :</p>

<p>[code]<br />
/**</p>
<ul>
  <li>This is a test/example service. Remove it for production use</li>
  <li></li>
  <li>@package Amfphp_Services</li>
  <li>@author Ariel Sommeria-klein<br />
*/<br />
class ExampleService {</li>
</ul>

<p>/**</p>
<ul>
  <li>return the same data as what was sent</li>
  <li>
    <p>@param mixed $param</p>
  </li>
  <li>@return mixed<br />
*/<br />
public function returnOneParam($param){<br />
return $param;<br />
}</li>
</ul>

<p>}<br />
[/code]</p>

<p>Below is the generated AS3 code :</p>

<p>[code]<br />
/**</p>
<ul>
  <li>This is a test/example service. Remove it for production use</li>
  <li></li>
  <li>@package Amfphp_Services</li>
  <li>@author Ariel Sommeria-klein<br />
*/<br />
public class ExampleServiceClient extends AMFPHPServiceClient {<br />
/**</li>
  <li>constructor.</li>
  <li>@param NetConnection nc. instantiate the nc, call the connect() method on it with the amfPHP server url, .</li>
  <li>maybe add some event listeners for error events, then pass it here.<br />
**/<br />
public function ExampleServiceClient(nc:NetConnection){<br />
super(nc, “ExampleService”);<br />
}</li>
</ul>

<p>/**</p>
<ul>
  <li>return the same data as what was sent</li>
  <li>@param mixed $param</li>
  <li>@return mixed<br />
*/</li>
</ul>

<p>return callService(“returnOneParam” , param);<br />
}</p>

<p>}<br />
[/code]</p>

<p>As you see they are very similar, and the client code gets the same comments as the server code.</p>

<p>The next step would be to use this information to type method parameters and find a way to have typed responses that are enforced at compile time. It’s not yet clear if this is feasible or practical, so stay tuned !</p>

<h2 id="other-goodies">Other Goodies</h2>

<ul>
  <li>The <a href="ace.c9.io">ACE code editor</a> has been integrated, and the parameter inputs are resizable.</li>
  <li>The Custom Class Converter plugin now has an option to enforce conversion. This is so that when you are working to set up your Value Objects(Vo s), AmfPHP helps you by providing some information when you slip up.</li>
  <li>Preliminary support for namespaces in services.</li>
  <li>Many small improvements in the back office, such as making the service browser uses AJAX to call services instead of reloading the page.</li>
</ul>

<p>This is ongoing, so if you have some feedback, please comment below.</p>

<h2 id="thank-you">Thank You</h2>

<ul>
  <li>Thanks <a href="https://www.silexlabs.org/members/lexa/">@Lexa</a> for the idea to use ACE code editor.</li>
  <li>Thanks <a href="https://www.silexlabs.org/members/arkascha/">Christian</a> for getting me thinking on comments again.</li>
  <li>Thanks <a href="https://twitter.com/Hast4656">Alexandr</a> for our discussions on namespaces.</li>
</ul>

<p><a href="http://sourceforge.net/projects/amfphp/files/amfphp-2.2_comments.zip/download">The packaged version is available here, so please try it.</a></p>

<p><a href="https://github.com/silexlabs/amfphp-2.0/releases/tag/v2.2_comments">The code is here, if you feel like making a contribution.</a></p>
</p>
  
</article>


</div></div><div data-silex-type="container-element" class="editable-style container-element silex-id-1595517439711-1" style=""><a href="https://www.silexlabs.org/join" data-silex-type="text-element" class="editable-style silex-id-1563544847465-8 text-element style-button-green" style="width: 300px; min-height: 41px;"><div class="silex-element-content normal">Rejoignez nous<br></div></a><div data-silex-type="html-element" class="editable-style silex-id-1563544962714-9 html-element silex-component" style=""><div class="silex-element-content">
<ul class="share-buttons" id="id_1624149636224_143">
  
  <li><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.silexlabs.org/&amp;t=Silex Labs non profit organization" title="Share on Facebook" target="_blank"><img alt="Share on Facebook" src="https://www.silexlabs.org/assets/Facebook.png"></a></li>
  
  
  <li><a href="https://twitter.com/intent/tweet?source=https://www.silexlabs.org/&amp;text=Silex Labs non profit organization:%20https://www.silexlabs.org/&amp;via=silexlabs" target="_blank" title="Share on Twitter"><img alt="Twitt" src="https://www.silexlabs.org/assets/Twitter.png"></a></li>
  
  
  
  
  
  
  
  <li><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.silexlabs.org/&amp;title=Silex Labs non profit organization&amp;summary=Silex Labs est une association à but non lucratif reconnue d’intérêt général qui lutte depuis 2009 contre la fracture numérique, en faisant promotion des technologies libres et de la contribution.

Notre conviction : la contribution change la vie de celui qui contribue et améliore celle des autres.&amp;source=https://www.silexlabs.org/" target="_blank" title="Share on LinkedIn"><img alt="Share on LinkedIn" src="https://www.silexlabs.org/assets/LinkedIn.png"></a></li>
  
  
  
  
  <li><a href="mailto:?subject=Silex Labs non profit organization&amp;body=Silex Labs est une association à but non lucratif reconnue d’intérêt général qui lutte depuis 2009 contre la fracture numérique, en faisant promotion des technologies libres et de la contribution.

Notre conviction : la contribution change la vie de celui qui contribue et améliore celle des autres.:%20https://www.silexlabs.org/" target="_blank" title="Send email"><img alt="Send by email" src="https://www.silexlabs.org/assets/Email.png"></a></li>
  
</ul>

<style type="text/css">#id_1624149636224_143.share-buttons {list-style: none; padding: 0;}#id_1624149636224_143.share-buttons li {display: inline;}#id_1624149636224_143.share-buttons .sr-only {position: absolute; clip: rect(1px, 1px, 1px, 1px); padding: 0; border: 0; height: 1px; width: 1px; overflow: hidden;}</style>
</div></div><div data-silex-type="html-element" class="editable-style silex-id-1563554584898-11 html-element hide-on-mobile bg-shadow" style=""><div class="silex-element-content">

<div id="fb-root"></div>
<script async="" defer="" crossorigin="anonymous" src="https://connect.facebook.net/fr_FR/sdk.js#xfbml=1&amp;version=v7.0&amp;appId=242623139095821" nonce="0Dnd4VdO" type="text/javascript"></script>

<div class="fb-page" data-href="https://www.facebook.com/silexlabs/" data-tabs="timeline" data-width="" data-height="" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true">
</div></div></div><div data-silex-type="html-element" class="editable-style silex-id-1564088083884-1 html-element hide-on-mobile max-height bg-shadow" style=""><div class="silex-element-content">


<a class="twitter-timeline" href="https://twitter.com/silexlabs?ref_src=twsrc%5Etfw"></a>
<script type="text/javascript" async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div></div></div></div>
  </section><section data-silex-type="container-element" class="container-element editable-style silex-id-1478366450713-3 section-element prevent-resizable" style="">
      <div data-silex-type="container-element" class="editable-style silex-element-content silex-id-1478366450713-2 container-element website-width bg-shadow" style="">

          <div class="editable-style silex-id-1442914737143-3 text-element style-footer" data-silex-type="text-element" style="">
              <div class="silex-element-content normal"><p><a href="https://www.silex.me/">Powered by Silex</a>, <a href="https://stastic.net/">Stastic</a> <a href="https://jekyllrb.com/">and Jekyll</a><a href="https://pages.github.com/">, </a>hosted on Github pages<a href="https://jekyllrb.com/"><br></a></p><p><a href="https://jekyllrb.com/"></a></p></div>
          </div>
      </div>
  </section><section data-silex-type="container-element" class="prevent-resizable container-element editable-style silex-id-1563544667829-6 section-element"><div data-silex-type="container-element" class="editable-style silex-id-1563544667707-5 container-element silex-element-content website-width"></div></section></body></html>