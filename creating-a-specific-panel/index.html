<!doctype html><html class="" lang=""><head>
  <meta charset="UTF-8">
  <!-- generator meta tag -->
  <!-- leave this for stats and Silex version check -->
  <meta name="generator" content="Silex v2.2.12">
  <!-- End of generator meta tag -->
  <script type="text/javascript" src="https://www.silexlabs.org/js/jquery.js"></script>
  
  
  <script type="text/javascript" src="https://www.silexlabs.org/js/front-end.js"></script>
  <link rel="stylesheet" href="https://www.silexlabs.org/css/normalize.css">
  <link rel="stylesheet" href="https://www.silexlabs.org/css/front-end.css">

  
  <script type="text/javascript" class="silex-script"></script>
  
  <title>Creating a specific panel</title>
  


<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" class="silex-custom-font"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Site silexlabs.org en Jekyll+Silex+Stastic"><meta name="twitter:description" content="Site silexlabs.org en Jekyll+Silex+Stastic"><meta name="og:description" content="Site silexlabs.org en Jekyll+Silex+Stastic"><meta name="twitter:title" content="Creating a specific panel"><meta name="og:title" content="Creating a specific panel"><meta name="twitter:site" content="@silexlabs"><link href="https://www.silexlabs.org/css/favicon.png" rel="shortcut icon"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://silexlabs.org/assets/silexlabs-wwx.jpg"><meta name="og:image" content="https://silexlabs.org/assets/silexlabs-wwx.jpg"><script src="https://www.silexlabs.org/js/script.js" type="text/javascript"></script><link href="https://www.silexlabs.org/css/styles.css" rel="stylesheet" type="text/css"><style>body { opacity: 0; transition: .25s opacity ease; }</style></head>

<body class="body-initial all-style enable-mobile prevent-resizable prevent-selectable editable-style silex-runtime silex-published" data-silex-type="container-element" style="" data-current-page="page-post">
  




























<section data-silex-type="container-element" class="prevent-resizable container-element editable-style silex-id-1563543778332-2 section-element"><div data-silex-type="container-element" class="editable-style silex-id-1563543778136-1 container-element silex-element-content website-width" style=""></div></section><section data-silex-type="container-element" class="container-element editable-style silex-id-1478366444112-1 section-element prevent-resizable" style="">
      <div data-silex-type="container-element" class="editable-style silex-element-content silex-id-1478366444112-0 container-element website-width" style=""><a href="https://www.silexlabs.org/" data-silex-type="image-element" class="editable-style silex-id-1563543746145-0 image-element" style=""><img src="https://www.silexlabs.org/assets/silexlabs.org_.2015.png" class=""></a><div data-silex-type="text-element" class="editable-style silex-id-1564083497965-0 text-element silex-component style-nav" style=""><div class="silex-element-content normal">

  <ul>

  <li>
    
    <a class="" href="https://www.silexlabs.org/">Accueil</a>
  </li>

  <li>
    
    <a class="" href="https://www.silexlabs.org/events">Evènements</a>
  </li>

  <li>
    
    <a class="" href="https://www.silexlabs.org/silexlabs">A propos</a>
  </li>

</ul>


</div></div><div data-silex-type="html-element" class="editable-style silex-id-1564093276656-2 html-element" style=""><div class="silex-element-content"><!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N48MBGD" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) --></div></div></div>
  </section><section data-silex-type="container-element" class="prevent-resizable container-element editable-style silex-id-1563544245802-4 section-element hide-on-mobile page-index paged-element page-page page-posts page-post page-404 paged-element-visible"><div data-silex-type="container-element" class="editable-style silex-id-1563544245599-3 container-element silex-element-content website-width bg-shadow-top" style=""></div></section><section data-silex-type="container-element" class="container-element editable-style silex-id-1474394621033-3 section-element prevent-resizable page-page-posts page-page-post page-page-404 page-page paged-element page-posts page-post page-404 page-tags paged-element-visible" style="">
      <div data-silex-type="container-element" class="editable-style silex-element-content silex-id-1474394621032-2 container-element website-width bg-shadow" style=""><div data-silex-type="text-element" class="editable-style silex-id-1563563640945-15 text-element silex-component style-post page-page-postaaa page-page-post page-post paged-element page-page paged-element-visible" style=""><div class="silex-element-content normal">

  <article>
  <h1>Creating a specific panel</h1><div class="post-date">16 August 2011</div>
  <p><p>A specific panel is an individual SWF file that will be displayed in the wysiwyg properties toolbox and loaded based on the type of the selected component. For instance, if an image is selected, the image specific panel will be displayed, if it a text, the text specific panel is displayed. Creating a specific panel is useful when you create a new component for Silex. You can associate a specific panel to this component. The resulting specific panel will then be tailored for the specific needs of the component, highlighting it’s main properties. The Specific panels are displayed in the wysiwyg in the properties toolbox when the specific plugin is selected (symbolised by the “s” button in the properties toolbox header). The Specific plugin is in charge of loading the right panel based on the selected component(s) data. The url of the panel to load is specified in the metadata of the components object coming from the SilexAdminAPI. We we will see how to add these url in the XMLDescriptor of the components.</p>

<h2 id="i-creating-a-specific-panel">I/ creating a specific panel</h2>

<p>The specific panel can be created in both AS3 and Flex. However the Flex framework fastens the process of building an interface and give access to the skinned Wysiwyg controls. The WysiwygPlugins Flex project available in the Silex Trunk contains 2 base class facilitating the creation of a specific panel. They mask the complexity of the task by dealing with the SilexAdminAPI to retrieve the needed properties from the SilexAdminAPI We will first see how to create a panel without those classes then with those classes.</p>

<h3 id="a-creating-a-panel-without-the-panels-base-class">a/ Creating a panel without the panels base class</h3>

<p>Without the base class masking the complexity of creating a panel and communicating with the SilexAdminAPI, the idea is to retrieve the properties you want to edit from the SilexAdminAPI, presents them in a custom interface then update the properties based on user input. You can create the interface in Flex or pure AS3. You will then put the url of the resulting SWF in the metadata of your component. With this approach, the simplest way is to read the document on how to use the SilexAdminAPI <a href="http://community.silexlabs.org/silex/codex/?page_id=185">here</a>.</p>

<h3 id="b-creating-a-panel-with-the-help-of-the-wysiwygplugin-base-class">b/ Creating a panel with the help of the WysiwygPlugin base class</h3>

<dl>
  <dt>The WysiwygPlugin Flex project presents 2 base class to help creating panels along with Wysiwyg mxml components to fasten developpement and preserve graphical unity. Here is the description of the 2 base class and their exposed API</dt>
  <dd>
    <h4 id="panelbaseas">PanelBase.as</h4>
  </dd>
</dl>

<p>It is a class extending the Flex Application class. It retrieves the properties data from the SilexAdminAPI then arrange them in an object where the key is the name of the property allowing you to easily retrieve a property object. It also listens for property DATA_CHANGE event on the SilexAdminAPI and determine if the panels properties must be refreshed. The Application class of the panel must extend the PanelBase class. It must also override the registerPanelsUi() protected method. In this method, you must push in the _panelUis array each of the PanelUiBase components of your panel.</p>

<h4 id="paneluibaseas">PanelUiBase.as</h4>

<p>It is a class extending the Flex VBox class. The specific panels for the Silex base components (image, text, video…) are arranged in multiple rows, each one containing a few controls to edit the properties. Each of those row extends PanelUiBase. Some smaller mxml components like “PanelUiWidthHeightStepper” extends this class. Extending this class allow the components to use the propertyArray object which contains each edited property object where the key is the name of the Property object.</p>

<dl>
  <dt>Ex: If I want to get the “width” property value, I can use the propertyArray object like this</dt>
  <dd>propertyArray.width.currentValue.</dd>
  <dt>The PanelUiBase also exposes method proxying the communication with SilexAdminAPI</dt>
  <dd></dd>
</dl>

<p>This method update the value of a Property object using the updateCurrentValue method of the Property object. When the property is updated an ID is given as a paramter corresponding to the ID od the specific plugin. This ID will be dispatched in the properties.DATA_CHANGED event resulting from this update. The goal is for the specific panels to know if they are the originator of a property data change. If they are, then there is no need to update the property of the specific panel which is costly in ressource.</p>

<p>Selects a property on the SilexAdminApi which as a result loads the corresponding PropertyEditor based on the type of the given property</p>

<h2 id="ii-updating-the-components-xmldescriptor">II/ Updating the component’s XMLDescriptor</h2>

<dl>
  <dt>In the XMLDescriptor of the component for which you created the specific panel, you need to write the url of your specific panel url so that it can be retrieved by the SilexAdminApi. You need to add the following tag to your XML</dt>
  <dd><code class="language-plaintext highlighter-rouge">&lt;specificEditorUrl&gt;parthToSpecificPanelRelativeToThePlugin/MySpecfificPanel.swf&lt;/specificEditorUrl&gt;</code></dd>
</dl>

<p>You need to add it at the root of your XML (in the same node as “as2Url”, “className”, “componentName”…</p>

<dl>
  <dt>Here is an exemple from the Image component descriptor</dt>
  <dd></dd>
</dl>
<componentDescriptor version="1.0">

<componentName>Image</componentName>

<as2Url>as2/org.silex.ui.players.Image.swf</as2Url>

<html5Url>html5#org.silex.ui.Image</html5Url>

<className>org.silex.ui.players.Image</className>

**<specificEditorUrl>editors/Image.swf</specificEditorUrl>**

<parentDescriptorClassName>org.silex.ui.components.ComponentBase</parentDescriptorClassName>

<componentRoot>main</componentRoot>

...
</componentDescriptor>
</p>
  
</article>


</div></div><div data-silex-type="container-element" class="editable-style container-element silex-id-1595517439711-1" style=""><a href="https://www.silexlabs.org/join" data-silex-type="text-element" class="editable-style silex-id-1563544847465-8 text-element style-button-green" style="width: 300px; min-height: 41px;"><div class="silex-element-content normal">Rejoignez nous<br></div></a><div data-silex-type="html-element" class="editable-style silex-id-1563544962714-9 html-element silex-component" style=""><div class="silex-element-content">
<ul class="share-buttons" id="id_1624149636224_143">
  
  <li><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.silexlabs.org/&amp;t=Silex Labs non profit organization" title="Share on Facebook" target="_blank"><img alt="Share on Facebook" src="https://www.silexlabs.org/assets/Facebook.png"></a></li>
  
  
  <li><a href="https://twitter.com/intent/tweet?source=https://www.silexlabs.org/&amp;text=Silex Labs non profit organization:%20https://www.silexlabs.org/&amp;via=silexlabs" target="_blank" title="Share on Twitter"><img alt="Twitt" src="https://www.silexlabs.org/assets/Twitter.png"></a></li>
  
  
  
  
  
  
  
  <li><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.silexlabs.org/&amp;title=Silex Labs non profit organization&amp;summary=Silex Labs est une association à but non lucratif reconnue d’intérêt général qui lutte depuis 2009 contre la fracture numérique, en faisant promotion des technologies libres et de la contribution.

Notre conviction : la contribution change la vie de celui qui contribue et améliore celle des autres.&amp;source=https://www.silexlabs.org/" target="_blank" title="Share on LinkedIn"><img alt="Share on LinkedIn" src="https://www.silexlabs.org/assets/LinkedIn.png"></a></li>
  
  
  
  
  <li><a href="mailto:?subject=Silex Labs non profit organization&amp;body=Silex Labs est une association à but non lucratif reconnue d’intérêt général qui lutte depuis 2009 contre la fracture numérique, en faisant promotion des technologies libres et de la contribution.

Notre conviction : la contribution change la vie de celui qui contribue et améliore celle des autres.:%20https://www.silexlabs.org/" target="_blank" title="Send email"><img alt="Send by email" src="https://www.silexlabs.org/assets/Email.png"></a></li>
  
</ul>

<style type="text/css">#id_1624149636224_143.share-buttons {list-style: none; padding: 0;}#id_1624149636224_143.share-buttons li {display: inline;}#id_1624149636224_143.share-buttons .sr-only {position: absolute; clip: rect(1px, 1px, 1px, 1px); padding: 0; border: 0; height: 1px; width: 1px; overflow: hidden;}</style>
</div></div><div data-silex-type="html-element" class="editable-style silex-id-1563554584898-11 html-element hide-on-mobile bg-shadow" style=""><div class="silex-element-content">

<div id="fb-root"></div>
<script async="" defer="" crossorigin="anonymous" src="https://connect.facebook.net/fr_FR/sdk.js#xfbml=1&amp;version=v7.0&amp;appId=242623139095821" nonce="0Dnd4VdO" type="text/javascript"></script>

<div class="fb-page" data-href="https://www.facebook.com/silexlabs/" data-tabs="timeline" data-width="" data-height="" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true">
</div></div></div><div data-silex-type="html-element" class="editable-style silex-id-1564088083884-1 html-element hide-on-mobile max-height bg-shadow" style=""><div class="silex-element-content">


<a class="twitter-timeline" href="https://twitter.com/silexlabs?ref_src=twsrc%5Etfw"></a>
<script type="text/javascript" async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div></div></div></div>
  </section><section data-silex-type="container-element" class="container-element editable-style silex-id-1478366450713-3 section-element prevent-resizable" style="">
      <div data-silex-type="container-element" class="editable-style silex-element-content silex-id-1478366450713-2 container-element website-width bg-shadow" style="">

          <div class="editable-style silex-id-1442914737143-3 text-element style-footer" data-silex-type="text-element" style="">
              <div class="silex-element-content normal"><p><a href="https://www.silex.me/">Powered by Silex</a>, <a href="https://stastic.net/">Stastic</a> <a href="https://jekyllrb.com/">and Jekyll</a><a href="https://pages.github.com/">, </a>hosted on Github pages<a href="https://jekyllrb.com/"><br></a></p><p><a href="https://jekyllrb.com/"></a></p></div>
          </div>
      </div>
  </section><section data-silex-type="container-element" class="prevent-resizable container-element editable-style silex-id-1563544667829-6 section-element"><div data-silex-type="container-element" class="editable-style silex-id-1563544667707-5 container-element silex-element-content website-width"></div></section></body></html>